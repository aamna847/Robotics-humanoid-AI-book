# ADR-0002: Search Technology Stack for Physical AI Documentation

Date: 2025-12-09

## Status
Accepted

## Context
The Physical AI & Humanoid Robotics documentation site requires an accessible search functionality to allow users to search across all book content, including headings, sections, and modules. The solution must be fully accessible, following WCAG 2.1 AA guidelines, supporting keyboard navigation, and being compatible with screen readers. The site is built with Docusaurus, which provides built-in integration with search solutions.

## Decision
We will implement the search functionality using the Docusaurus Algolia Search Plugin integrated with the following components:
- Framework: Docusaurus v3.1+ with React 18
- Search Provider: Algolia DocSearch
- Accessibility: WCAG 2.1 AA compliance with ARIA attributes
- Components: Custom AccessibleSearchBar React component with enhanced accessibility features
- Styling: Custom CSS for accessibility-focused UI

## Consequences
### Positive
- Leverages Docusaurus's built-in Algolia integration for a robust, accessible search experience out of the box
- Maintains compatibility with the existing Docusaurus site architecture
- Provides excellent accessibility features with keyboard navigation and screen reader support
- Scales well with large content sets (12-book content pages with 2000+ words each)
- Includes keyboard shortcuts like Ctrl+K for focusing search
- Proper ARIA attributes and focus management enhance assistive technology support

### Negative
- Requires an external service (Algolia) and API keys
- Less control over the search algorithm compared to custom implementation
- Requires proper indexing configuration for the specific content structure
- Additional dependency on Algolia's service availability

## Alternatives
### Alternative 1: Custom search implementation using FlexSearch
- Pros: Full control over search algorithm, no external dependencies
- Cons: More development time required, need to build accessibility features from scratch, potential performance issues with large content sets

### Alternative 2: Elasticsearch integration
- Pros: More control over search algorithm, good performance
- Cons: More complex setup, requires backend infrastructure, need to build UI components and accessibility features from scratch

### Alternative 3: Client-side search libraries like FlexSearch
- Pros: No external service dependencies, works offline
- Cons: Potentially slower performance with large content sets, need to implement accessibility features manually, larger bundle size

## References
- plan.md
- research.md
- data-model.md
- contracts/search-api.yaml 
